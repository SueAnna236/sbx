<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    body{text-align: center}
    svg{
      background-color: #dddddd;
    }
  </style>
</head>
<body>
  <svg id="c3" width="500" height="400">
    <!-- <circle cx="250" cy="200" r="50" fill="#f0f" fill-opacity="0.6"></circle> -->
  </svg>
  <!-- 练习：在画布上绑定点击事件，在点击处创建圆形，让圆形慢慢变大，变淡，直至消失-从DOM树上删除 圆形的大小随机 颜色随机 透明度随机 -->
  <script>
    // 1：获取画布
    var c3 = document.getElementById("c3");
    // 2：为画布绑定点击事件 e事件对象
    c3.onclick = function(e){
      //this.onclick = null;
      // 3：获取鼠标坐标x y
      var cx = e.offsetX;
      var cy = e.offsetY;
      // 4：依据鼠标位置x y 创建圆形
      var circle = document.createElementNS("http://www.w3.org/2000/svg","circle");
      // 5：修改圆形大小和透明度
      circle.setAttribute("cx",cx);
      circle.setAttribute("cy",cy);
      circle.setAttribute("r",rn(1,100));
      circle.setAttribute("fill",rc(0,255));
      circle.setAttribute("fill-opacity",Math.random())
      // 6：当前条件满足删除圆形
      c3.appendChild(circle);
      // 7：变大->+r 变淡-> - fill-opacity
      var t = setInterval(()=>{
        var r = circle.getAttribute("r");
        r *= 1.05;
        circle.setAttribute("r",r);
        var p = circle.getAttribute("fill-opacity");
        p *= 0.95;
        circle.setAttribute("fill-opacity",p);
        if(p < 0.01){
          c3.removeChild(circle);
          clearInterval(t);
        }
      },200);  
    }    
    var rn = function(min,max){
      var n = Math.random()*(max-min)+min;
      return Math.floor(n);
    }
    var rc = function(min,max){
      var r = rn(0,255);
      var g = rn(0,255);
      var b = rn(0,255);
      return `rgb(${r},${g},${b})`
    }
    
  </script>
  
</body>
</html>