<!DOCTYPE HTML>
<html>
<head>
<title>事件处理</title>
<meta charset="utf-8" />

</head>
<body>
 	<form>
		姓名:<input name="username"/><br>
		密码:<input type="password" name="pwd"/><br>
    爱好:<input type="checkbox" name="favs" value="running"/>跑步
          <input type="checkbox" name="favs" value="swimming"/>游泳
          <input type="checkbox" name="favs" value="basketball"/>篮球
          <br>
		<input type="submit"/>
  </form>
  <a href="#top">返回顶部</a>
  <script>
    function search2Obj(){
      var obj={};
      if(location.search!==""){
        var search=location.search.slice(1);
//username=dongdong&pwd=1234567&favs=running&favs=swimming
        var arr=search.split("&");
//[username=dongdong,pwd=1234567,favs=running,favs=swimming]
        for(var str of arr){
          //str:"username=dongdong"
          var [key,value]=str.split("=")
          //  [key,value]=[username,dongdong]
          if(obj[key]===undefined)
            obj[key]=value;
          //obj:{"username":"dongdong"}
          else
            //obj["favs"]=running
            obj[key]=[].concat(obj[key],value)
                   //[].concat(running,swimming)
                   //[running,swimming]
            //obj["favs"]=[running,swimming]
        }
      }
      return obj;
    }
    console.log(search2Obj());
  </script>
</body>
</html>
